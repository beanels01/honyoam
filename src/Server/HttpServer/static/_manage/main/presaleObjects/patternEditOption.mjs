import languageSelect from      '../languageSelect.mjs'
import imageUploader from       '../imageUploader.mjs'
let inputForSpecificLanguage={
    components:{imageUploader},
    created(){
        this.checkValue()
    },
    methods:{
        checkValue(){
            if(this.value)
                return
            this.$emit('input',{
                name:'85-A Type',
                image:0,
            })
        },
    },
    props:['value'],
    template:`
        <div v-if=value>
            <div>
                <input
                    placeholder=名稱
                    v-model=value.name
                >
            </div>
            <div>
                <imageUploader
                    v-model=value.image
                ><imageUploader>
            </div>
        </div>
    `,
    watch:{
        value(){
            this.checkValue()
        },
    },
}
let patternEditOption={
    components:{
        languageSelect,
        inputForSpecificLanguage,
    },
    created(){
        this.checkValue()
    },
    data:()=>({
        selectedLanguage:0,
    }),
    methods:{
        checkValue(){
            if(this.value)
                return
            this.$emit('input',{
                name:'1K',
                area:86.15,
                price:4998,
                language:{},
            })
        },
    },
    props:['data','value'],
    template:`
        <div v-if=value>
            <p>
                名稱：
                <input
                    v-model=value.name
                >
            </p>
            <p>
                面積：
                <input
                    :value=value.area
                    @input="value.area=+event.target.value"
                >
            </p>
            <p>
                價格：
                <input
                    :value=value.price
                    @input="value.price=+event.target.value"
                >
            </p>
            <languageSelect
                :language=data
                v-model=selectedLanguage
            ></languageSelect>
            <inputForSpecificLanguage
                v-if=selectedLanguage
                v-model=value.language[selectedLanguage]
            ></inputForSpecificLanguage>
        </div>
    `,
    watch:{
        value(){
            this.checkValue()
        },
    },
}
export default patternEditOption
